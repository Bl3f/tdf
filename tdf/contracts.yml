datasets:
  - name: race
    type: postgres
    description: Strava activity data for a specific rider, stage and time. An activity contains GPS and physical data that might be null. For a given rider + stage you get an activity timeseries.
    partition_column: updated_at
    columns:
      - name: rider_slug
        type: str
        description: The Strava profile id.
      - name: stage_id
        type: int
        description: The Tour stage id, from 1 to 21.
        options:
          min_value: 1
          max_value: 21
      - name: activity_id
        type: str
        description: The Strava activity id, only useful for debugging.
      - name: updated_at
        type: date
        description: When the data has been updated in the database.
        options:
          min_datetime: 2023-07-01T00:00:00
          max_datetime: 2023-07-24T00:00:00
      - name: time
        type: float
        description: Time in seconds since the beginning of the activity.
      - name: latitude
        type: float
        description: Latitude for the given time.
        options:
          ignore_missing_vals: true
      - name: longitude
        type: float
        description: Longitude for the given time.
        options:
          ignore_missing_vals: true
      - name: altitude
        type: float
        description: Altitude for the given time.
        options:
          ignore_missing_vals: true
      - name: temp
        type: float
        description: Temperature in celsius degrees.
        options:
          ignore_missing_vals: true
      - name: watts
        type: float
        description: Strava computed power.
        options:
          ignore_missing_vals: true
      - name: moving
        type: float
        description: A boolean field that indicates if the rider is moving.
        options:
          ignore_missing_vals: true
          min_value: 0
          max_value: 1
      - name: velocity_smooth
        type: float
        description: Speed computed by Strava in meters per second.
        options:
          ignore_missing_vals: true
      - name: grade_smooth
        type: float
        description: Grade smooth computed by Strava as percents of a grade.
        options:
          ignore_missing_vals: true
      - name: cadence
        type: float
        description: Rider rotation in rotations per minute.
        options:
          ignore_missing_vals: true
          min_value: 0
      - name: distance
        type: float
        description: Distance done since the beginning of the activity in meters.
        options:
          ignore_missing_vals: true
          min_value: 0
      - name: heartrate
        type: float
        description: Rider heartrate in beats per minute.
        options:
          ignore_missing_vals: true
          min_value: 0
  - name: riders
    type: sheets
    description: List of all the 2023 Tour de France riders.
    columns:
      - name: name
        type: str
        description: Firstname and Lastname of the rider.
      - name: slug
        type: str
        description: Official slugâ€”a slug is a url compliant nickname.
      - name: bib
        type: int
        description: Official rider number.
        options:
          min_value: 1
          max_value: 218
      - name: team
        type: str
        description: Team name of the rider.
      - name: country
        type: str
        description: 3-letters country isocode.
      - name: strava
        type: str
        description: Stava id, if null the rider is not on strava.
      - name: height
        type: int
        description: Height in cm from procyclingstats.
        options:
          min_value: 100
      - name: weight
        type: float
        description: Weight in kg from procyclingstats.
        options:
          ignore_missing_vals: true
      - name: birthday
        type: str
        description: Birthdate from procyclingstats, but not in a nice date format. It has to be parsed.
  - name: stages_info
    type: sheets
    description: Static information about stages.
    columns:
      - name: stage
        type: int
        description: The Tour stage id, from 1 to 21.
      - name: date
        type: str
        description: The date the stage was held.
      - name: start_latitude
        type: float
        description: Official start latitude (but hand-picked).
      - name: start_longitude
        type: float
        description: Official start longitude (but hand-picked).
      - name: start_0_latitude
        type: float
        description: Official km0 start latitude (but hand-picked).
      - name: start_0_longitude
        type: float
        description: Official km0 start longitude (but hand-picked).
      - name: end_latitude
        type: float
        description: Official end latitude (but hand-picked).
      - name: end_longitude
        type: float
        description: Official end longitude (but hand-picked).
      - name: start_label
        type: str
        description: Official start label.
      - name: end_label
        type: str
        description: Official end label.
